@{
    ViewBag.Title = "Kết quả thanh toán";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-body text-center">
                    @if (ViewBag.ThanhToanThanhCong == true)
                    {
                        <div class="success-icon mb-4">
                            <i class="fas fa-check-circle text-success" style="font-size: 80px;"></i>
                        </div>
                        <h2 class="text-success mb-4">Thanh toán thành công!</h2>
                        <div class="payment-details p-4 bg-light rounded">
                            <p class="mb-2"><strong>Mã đơn hàng:</strong> #@ViewBag.MaDonHang</p>
                            <p class="mb-2"><strong>Số tiền:</strong> @ViewBag.SoTien.ToString("#,##0") đ</p>
                            <p class="mb-2"><strong>Thời gian:</strong> @DateTime.Now.ToString("dd/MM/yyyy HH:mm")</p>
                        </div>
                        <div class="mt-4">
                            <p class="text-muted">Cảm ơn bạn đã mua hàng tại NEOTECH Computer!</p>
                            <p class="text-muted">Chúng tôi sẽ gửi email xác nhận đơn hàng cho bạn.</p>
                        </div>
                        <div class="mt-4">
                            <a href="@Url.Action("Index", "DonHangs")" class="btn btn-primary me-2">Xem đơn hàng</a>
                            <a href="@Url.Action("Index", "Home")" class="btn btn-outline-secondary">Tiếp tục mua sắm</a>
                        </div>
                    }
                    else
                    {
                        <div class="error-icon mb-4">
                            <i class="fas fa-times-circle text-danger" style="font-size: 80px;"></i>
                        </div>
                        <h2 class="text-danger mb-4">Thanh toán thất bại!</h2>
                        <div class="payment-details p-4 bg-light rounded">
                            <p class="mb-2"><strong>Mã đơn hàng:</strong> #@ViewBag.MaDonHang</p>
                            @if (!string.IsNullOrEmpty(ViewBag.MaLoi))
                            {
                                <p class="mb-2"><strong>Mã lỗi:</strong> @ViewBag.MaLoi</p>
                            }
                            <p class="mb-2 text-danger">@ViewBag.ThongBaoLoi</p>
                        </div>
                        <div class="mt-4">
                            <p class="text-muted">Vui lòng thử lại hoặc liên hệ với chúng tôi để được hỗ trợ.</p>
                            <p class="text-muted">Hotline: 1900 55 55 77</p>
                        </div>
                        <div class="mt-4">
                            <a href="@Url.Action("Index", "DonHangs")" class="btn btn-primary me-2">Xem đơn hàng</a>
                            <a href="@Url.Action("Index", "Home")" class="btn btn-outline-secondary">Quay lại trang chủ</a>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        border: none;
        border-radius: 15px;
    }
    .success-icon, .error-icon {
        animation: scaleIn 0.5s ease-in-out;
    }
    .payment-details {
        border: 1px solid #e0e0e0;
        border-radius: 10px;
    }
    .btn {
        padding: 10px 25px;
        border-radius: 25px;
        font-weight: 500;
    }
    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }
    .btn-outline-secondary {
        border-color: #6c757d;
        color: #6c757d;
    }
    .btn-outline-secondary:hover {
        background-color: #6c757d;
        color: white;
    }
    @@keyframes scaleIn {
        0% {
            transform: scale(0);
            opacity: 0;
        }
        100% {
            transform: scale(1);
            opacity: 1;
        }
    }
</style>

